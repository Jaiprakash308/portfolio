<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
      body{
   text-align: center;
    /* background-color: cadetblue; */
    background-color:aqua;
}
.container{
    height:506px;
    width: 69%;
    display: flex;
    flex-wrap: wrap;
    padding: 1rem;
    border:2px solid black;
    text-align: center;
    margin: 0 auto;
    background-color:black

}
.item{
    height: 160px;
    font-size: 150px;
    width:31.8%;
    align-content: center;
    border:2px solid black;
    margin:0.3rem;
}
.flash{
    background-color:red;
}
 #box1{
    background-color:white;
}
#box2{
    background-color:white;
}
#box3{
    background-color:white;
}
.hide {
            display: none;
        }
#box4{
    background-color:white;
}
#box5{
    background-color:white;
}
#box6{
    background-color:white;
}
#box7{
    background-color:white;
}
#box8{
    background-color:white;
}
#box9{
    background-color:white;
} */
    </style>
</head>
<body>
    <h2>please entery any key to start game</h2>
    <div class="container">
        <div class="item" id="box1">1</div>
        <div class="item" id="box2">2</div>
        <div class="item" id="box3">3</div>
        <div class="item" id="box4">4</div>
        <div class="item" id="box5">5</div>
        <div class="item" id="box6">6</div>
        <div class="item" id="box7">7</div>
        <div class="item" id="box8">8</div>
        <div class="item" id="box9">9</div>
    </div>
    <script>
    let h2=document.querySelector('h2');
    let started=false;
    let level=0;
    let player1=1;
    let player2=2;
    let box1=document.querySelector("#box1");
    let box2=document.querySelector("#box2");
    let box3=document.querySelector("#box3");
    let box4=document.querySelector("#box4");
    let box5=document.querySelector("#box5");
    let box6=document.querySelector("#box6");
    let box7=document.querySelector("#box7");
    let box8=document.querySelector("#box8");
    let box9=document.querySelector("#box9");
    let first=1;
    let value=-1;
    let click=0;
    let body=document.querySelector('body');
    let userseq = [];
    let btns=["red","blue","pink","green","aqua","skyblue","blueviolet","burlywood","coral"];
    let all=document.querySelectorAll(".item");
    document.addEventListener("keypress", function () {
    if (started == false) {
        started = true;
        console.log("Game is started");

        LevelUp();
    }
}
);
function LevelUp(){
    level++;
    h2.innerText=`Welcome to Tic  Tac Toe Game `;
    let randidx = Math.floor(Math.random() * 3);
    let randcolor = btns[randidx];
    let randBtn = document.querySelector(`.${randcolor}`);
    // console.log(randidx);
    // alert(randcolor);
    // console.log(randBtn);
    // Gameseq.push(randcolor);
    // score = Level;
    // p.innerText = `score : ${score}`;
    // divs.appendChild(p);
    // console.log(Gameseq);

    btnpress();
}



function btnpress() {
    console.log(this);
    let btn = this;
    // btnFlash(this);
    this.classList.add("flash");
    setTimeout(function(){
        this.classList.remove("flash");
    });

    btn.bakcgroundColor="red";
    let userColor = btn.getAttribute("id");
    btnFlash(btn);
    // alert(userColor);
    userseq.push(userColor);

    // value=prompt(`please enter plyer ${first}`);
    if(click==0){
    this.innerText="O";
    // first++;
    click++;
    }
    else{
        this.innerText="X";
        click=0;
    }
    checkans(btn);

    // console.log("Game seq=", Gameseq);
    // console.log("user seq=", userseq);
    
    // checkans(userseq.length - 1);
    
}

function checkans(btn){
    setTimeout(function(){
        if(box1.innerText=="O" &&box2.innerText=="O" &&box3.innerText=="O" || box4.innerText=="O" &&box5.innerText=="O" &&box6.innerText=="O" ||box7.innerText=="O" &&box8.innerText=="O" &&box9.innerText=="O"){
            alert("O is win");
            h2.innerText=`please enter any key to restart1`;
            body.classList.add("flash");
            setTimeout(function(){
                body.classList.remove("flash");
            },1000);
            value++;
            btnFlash(btn);
            reset();
        }
        else if(box1.innerText=="O" &&box5.innerText=="O" &&box9.innerText
        =="O" || box1.innerText=="O" && box4.innerText=="O" &&box7.innerText=="O" ||box1.innerText=="O" && box2.innerText=="O" &&box3.innerText=="O"){
            alert("O is Win");
            h2.innerText=`please enter any key to restart`;
            body.classList.add("flash");
            setTimeout(function(){
                body.classList.remove("flash");
            },1000);
            value++;
            
            btnFlash(btn);
            reset();
        }
        else if(box1.innerText=="X" &&box2.innerText=="X" &&box3.innerText=="X" || box4.innerText=="X" &&box5.innerText=="X" &&box6.innerText=="X" ||box7.innerText=="X" &&box8.innerText=="X" &&box9.innerText=="X"){
            alert("X is win");
            h2.innerText=`please enter any key to restart`;
            setTimeout(function(){
                body.classList.remove("flash");
            },1000);
            value++;
            btnFlash(btn);
            
            reset();
            
        }
        else if(box1.innerText=="X" &&box5.innerText=="X" &&box9.innerText
        =="X" || box1.innerText=="X" && box4.innerText=="X" &&box7.innerText=="X" ||box1.innerText=="X" && box2.innerText=="X" &&box3.innerText=="X"){
            alert("X is Win");
            h2.innerText=`please enter any key to restart`;
            body.classList.add("flash");
            setTimeout(function(){
                body.classList.remove("flash");
            },1000);
            value++;
            // btnFlash(btn);

        reset();
    }
    const allBoxes = [...boxes].every((box) => box.innerText !== "");
     if (allBoxes) {
                    msgContainer.classList.remove('hide');
                    msg.innerText = 'Match Drawn';
                }
    },1000);
}

function reset(){
    level=0;
    value=0;
    let allbtns=document.querySelectorAll(".item");
    for(allbtnss of allbtns){
        allbtnss.innerText="";
    }
 
}
function btnFlash(btn) {
    btn.classList.add("flash");
    setTimeout(function () {
        btn.classList.remove("flash");
    }, 2000);

}

let allbtns = document.querySelectorAll(".item");
for (allbtnss of allbtns) {
    allbtnss.addEventListener("click", btnpress);
    // let value=prompt("Enter your chaal");
    if(allbtnss!=""){
        reset();
    }
}
// allbtnss.innerText=value;

    </script>
</body>
</html>